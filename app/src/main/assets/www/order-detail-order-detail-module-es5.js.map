{"version":3,"sources":["webpack:///src/app/order-detail/order-detail.page.html","webpack:///src/app/order-detail/order-detail-routing.module.ts","webpack:///src/app/order-detail/order-detail.module.ts","webpack:///src/app/order-detail/order-detail.page.scss","webpack:///src/app/order-detail/order-detail.page.ts"],"names":["routes","path","component","OrderDetailPageRoutingModule","imports","forChild","exports","OrderDetailPageModule","declarations","OrderDetailPage","route","alertController","itemService","toastController","eventSubject","user","currentUser","db","uid","cart","data","next","params","subscribe","param","current_order","console","log","self","collection","where","oid","onSnapshot","querySnapshot","forEach","doc","item","publishEvent","foo","create","header","message","buttons","text","role","cssClass","handler","blah","deleteOrder","id","deleteToast","alert","present","color","duration","toast","selector","template"],"mappings":"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","file":"order-detail-order-detail-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-title>Order Details</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-button slot=\\\"end\\\" (click)=\\\"show()\\\"> Delete</ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-item>\\n  <ion-label>\\n    <h6>Order Date</h6>\\n    {{ current_order.date |  date: 'MM/dd/yyyy'}}\\n  </ion-label>\\n  </ion-item>\\n\\n  <ion-item >\\n    <ion-label>\\n\\n\\n     <h6>Products:</h6>\\n     <ion-item *ngFor=\\\"let item of cart\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img [src]=\\\"item.image\\\"></ion-img>\\n      </ion-thumbnail>\\n\\n      <ion-label>\\n        {{ item.title }}\\n      </ion-label>\\n      <ion-label>\\n        {{ item.quantity }}\\n      </ion-label>\\n      <ion-label>\\n       $ {{ item.cost }}\\n      </ion-label>\\n    </ion-item>\\n\\n\\n\\n    </ion-label>\\n  </ion-item>\\n\\n\\n  \\n  <ion-item>\\n    <ion-label>\\n      <h6>  Total Items:</h6>   {{ current_order.quantity }}\\n    </ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>\\n      <h6>Order Total</h6> $ {{ current_order.total }}\\n    </ion-label>\\n  </ion-item>\\n  \\n  <ion-item>\\n    <ion-label>\\n      <h6>User ID</h6> {{ current_order.uid }}\\n     </ion-label>\\n    </ion-item>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderDetailPage } from './order-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderDetailPageRoutingModule } from './order-detail-routing.module';\n\nimport { OrderDetailPage } from './order-detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderDetailPageRoutingModule\n  ],\n  declarations: [OrderDetailPage]\n})\nexport class OrderDetailPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29yZGVyLWRldGFpbC9vcmRlci1kZXRhaWwucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport * as firebase from 'firebase';\nimport {Subject} from 'rxjs';\nimport { ItemService } from '../item.service';\nimport { AlertController } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\n@Component({\n  selector: 'app-order-detail',\n  templateUrl: './order-detail.page.html',\n  styleUrls: ['./order-detail.page.scss'],\n})\nexport class OrderDetailPage implements OnInit {\n\n  private eventSubject = new Subject<any>();\n  current_order:any;\n  user = firebase.auth().currentUser;\n  db = firebase.firestore();\n  uid = this.user.uid;\n  cart = [];\n\n  publishEvent(data:any) {\n    this.eventSubject.next(data);\n    }\n    getObservable(): Subject<any> {\n    return this.eventSubject;\n    }\n  constructor(\n    public route: ActivatedRoute,\n    private alertController: AlertController,\n    public itemService:ItemService,\n    private toastController:ToastController\n  ) {\n   }\n\n  ngOnInit() {\n    this.route.params.subscribe(\n      param => {\n        this.current_order = param;\n        console.log(this.current_order);\n      }\n    )\n\n    var self = this;\n    this.db.collection(\"CartOrder\").where(\"oid\",\"==\",this.current_order.oid)\n    .onSnapshot(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n        var item = doc.data();\n        self.cart = item.cart;\n      });\n      self.publishEvent({foo:'bar'});\n    });\n  }\n  show() {\n    console.log(this.current_order.cart);\n  }\n  async deleteOrder(){\n    const alert = await this.alertController.create({\n      header: 'Delete Order?',\n      message: 'You are about to delete this order. Are you sure?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Delete Canceled');\n          }\n        }, {\n          text: 'Yes',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.itemService.deleteOrder(this.current_order.id);\n            this.deleteToast();\n\n          }\n        }\n      ]\n    });\n    \n    await alert.present();\n  }\n\n  async deleteToast() {\n    const toast = await this.toastController.create({\n      message: 'Order Deleted',\n      color:'tertiary',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n}\n"]}