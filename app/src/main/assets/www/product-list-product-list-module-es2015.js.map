{"version":3,"sources":["./src/app/product-list/product-list.page.html","./src/app/product-list/product-list-routing.module.ts","./src/app/product-list/product-list.module.ts","./src/app/product-list/product-list.page.scss","./src/app/product-list/product-list.page.ts"],"names":[],"mappings":"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","file":"product-list-product-list-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-title>  Homepage </ion-title>\\n      <ion-buttons slot=\\\"end\\\">\\n       <ion-button (click)=\\\"openNewItemPage()\\\">\\n         <ion-icon slot=\\\"icon-only\\\" name=\\\"add-circle\\\"></ion-icon>\\n        </ion-button>\\n        <ion-button (click)=\\\"logout()\\\"><ion-icon name=\\\"log-in-outline\\\"></ion-icon></ion-button>\\n     </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-img [src]=\\\"img\\\"></ion-img>\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let item of items\\\" (click)=\\\"goToItem(item)\\\">\\n\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img [src]=\\\"item.image\\\"></ion-img>\\n      </ion-thumbnail>\\n\\n      <ion-label>\\n        {{ item.title }}\\n      </ion-label>\\n      <ion-label>\\n        {{ item.category }}\\n      </ion-label>\\n      <ion-label>\\n       $ {{ item.price }}\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductListPage } from './product-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductListPageRoutingModule } from './product-list-routing.module';\n\nimport { ProductListPage } from './product-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProductListPageRoutingModule\n  ],\n  declarations: [ProductListPage]\n})\nexport class ProductListPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3QtbGlzdC9wcm9kdWN0LWxpc3QucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastController, NavController } from '@ionic/angular';\nimport * as firebase from 'firebase';\nimport { ItemService } from '../item.service';\nimport { Camera, CameraOptions } from \"@ionic-native/camera/ngx\";\nimport { File } from '@ionic-native/file/ngx';\n\nexport interface MyData {\n  name: string;\n  filepath: string;\n  size: number;\n}\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.page.html',\n  styleUrls: ['./product-list.page.scss'],\n})\n\nexport class ProductListPage implements OnInit {\n  \nimg=\"assets/white.png\";\ndisplay = \"\";\nimgfile = \"\";\nitems=[];\nimage = \"\";\ntest = \"\";\nrandomId = Math.random().toString(36).substr(2, 5);\n\n  constructor(\n    private router: Router,\n    public itemService: ItemService,\n    private toastController:ToastController,\n    private camera: Camera,\n    public navCtrl: NavController,\n    private file: File\n  ) { \n\n    this.itemService.getObservable().subscribe((data) => {\n      this.items = this.itemService.items;\n    });\n    \n    this.items = this.itemService.items;\n    \n    if (firebase.auth().currentUser == null) {\n      console.log(\"User not logged in\");\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  logout() {\n    var self=this;\n    firebase.auth().signOut().then(function() {\n      console.log(\"Loggging Out\");\n      self.router.navigate([\"/login\"]);\n    }).catch(function(error) {\n      console.log(\"Error! Signout\")\n    });\n    this.itemService.setUsertype(\"visitor\");\n    this.logoutToast();\n  }\n\n  openNewItemPage() {\n    console.log(\"clicked me\");\n    \n    if (firebase.auth().currentUser ==  null){\n        console.log(\"user not logged in\");\n        console.log(\"log in please\")\n        this.router.navigate([\"/login\"]);\n    }\n\n    if (this.itemService.getUsertype() == 'owner'){\n      this.router.navigate([\"/add-product\"]);\n    }\n    else{\n      console.log(\"Only an owner can add items\");\n      this.presentToast();\n    }\n  }\nasync presentToast() {\n    const toast = await this.toastController.create({\n      color:'danger',\n      message: 'Only an owner can add items.',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  async logoutToast() {\n    const toast = await this.toastController.create({\n      color:'danger',\n      message: 'You have been logged out',\n      duration: 2000\n    });\n    toast.present();\n  }\n  goToItem(item) {\n    this.router.navigate([\"/product-detail\", item]);\n  }\n\n\n async pickImage() {\n   try {\n    const options: CameraOptions = {\n      quality:50,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    }\n    const result = await this.camera.getPicture(options);\n    const image = `data:image/jpeg;base64,${result}`;\n    const pictures = firebase.storage().ref(this.randomId);\n    pictures.putString(image, 'data_url');\n    \n  } catch(e) {\n    console.error(e);\n  }\n  }\n\n  download() {\n    var storageRef = firebase.storage().ref();\n    storageRef.child(this.randomId).getDownloadURL().then(function(url) {\n    })\n  }\n}"],"sourceRoot":"webpack:///"}