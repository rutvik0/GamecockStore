{"version":3,"sources":["webpack:///src/app/add-product/add-product.page.html","webpack:///src/app/add-product/add-product-routing.module.ts","webpack:///src/app/add-product/add-product.module.ts","webpack:///src/app/add-product/add-product.page.scss","webpack:///src/app/add-product/add-product.page.ts"],"names":["routes","path","component","AddProductPageRoutingModule","imports","forChild","exports","AddProductPageModule","declarations","AddProductPage","router","formBuilder","itemService","toastController","camera","file","randomId","Math","random","toString","substr","addPicId","downloadURL","new_item_form","group","title","required","price","category","description","value","self","storageRef","ref","child","getDownloadURL","then","url","image","createItem","reset","goBack","presentToast","create","color","message","position","duration","toast","present","navigate","options","quality","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","getPicture","result","pictures","putString","setTimeout","showImage","console","error","test","document","querySelector","src","selector","template"],"mappings":"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","file":"add-product-add-product-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-title>Add New Product</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <ion-button (click)=\\\"pickImage()\\\" expand=\\\"block\\\">Take Picture</ion-button>\\n  <img src=\\\"test\\\" onerror=\\\"this.src = '/assets/default.png'\\\" />\\n  <form [formGroup]=\\\"new_item_form\\\" (submit)=\\\"createItem(new_item_form.value)\\\">\\n    <ion-item>\\n      <ion-label color=\\\"primary\\\" position=\\\"floating\\\"> Product Title </ion-label>\\n      <ion-input type=\\\"text\\\" formControlName=\\\"title\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-item >\\n      <ion-label color=\\\"primary\\\" position=\\\"floating\\\" > Product Price (numbers only) </ion-label>\\n      <ion-input type=\\\"number\\\" formControlName=\\\"price\\\" required> </ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Product Category</ion-label>\\n      <ion-select color=\\\"primary\\\" formControlName=\\\"category\\\" placeholder=\\\"Select One\\\">\\n        <ion-select-option value=\\\"Toy\\\">Toy</ion-select-option>\\n        <ion-select-option value=\\\"Food\\\">Food</ion-select-option>\\n        <ion-select-option value=\\\"Drink\\\">Drink</ion-select-option>\\n      </ion-select>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label color=\\\"primary\\\" position=\\\"floating\\\">Product Description</ion-label>\\n    <ion-textarea formControlName=\\\"description\\\"></ion-textarea>\\n  </ion-item>\\n\\n  <ion-button class=\\\"submit-btn\\\" expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!new_item_form.valid\\\" (click)=\\\"goBack()\\\">Create</ion-button>\\n  </form>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddProductPage } from './add-product.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddProductPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddProductPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddProductPageRoutingModule } from './add-product-routing.module';\n\nimport { AddProductPage } from './add-product.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    AddProductPageRoutingModule\n  ],\n  declarations: [AddProductPage]\n})\nexport class AddProductPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FkZC1wcm9kdWN0L2FkZC1wcm9kdWN0LnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { Validators, FormBuilder,FormControl,FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ItemService } from '../item.service';\nimport { ToastController } from '@ionic/angular';\nimport { Camera, CameraOptions } from \"@ionic-native/camera/ngx\";\nimport { File } from '@ionic-native/file/ngx';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-add-product',\n  templateUrl: './add-product.page.html',\n  styleUrls: ['./add-product.page.scss'],\n})\nexport class AddProductPage implements OnInit {\n\n  new_item_form: FormGroup;\n  randomId = Math.random().toString(36).substr(2, 5);\n  addPicId = 'thumb_'+this.randomId;\n  downloadURL = [];\n  constructor(\n    private router: Router,\n    public formBuilder: FormBuilder,\n    public itemService:ItemService,\n    private toastController:ToastController,\n    private camera: Camera,\n    private file: File\n  ) { }\n\n  ngOnInit() {\n    this.new_item_form = this.formBuilder.group({\n      title: new FormControl('',Validators.required),\n      price: new FormControl('',Validators.required),\n      category: new FormControl('', Validators.required),\n      description: new FormControl('', Validators.required)\n    })\n  }\n\n  createItem(value) {\n    var self = this;\n    var storageRef = firebase.storage().ref();\n    storageRef.child(this.addPicId).getDownloadURL().then(function(url) {\n      var image = url;\n      if(image == null) {\n        image = \"/assets/default.png\";\n      }\n      self.itemService.createItem(value.title,value.price,value.category,image,value.description);\n    });\n    \n    this.new_item_form.reset();\n    this.goBack();\n    this.presentToast();\n  }\n\n  async presentToast() {\n    const toast = await this.toastController.create({\n      color:'success',\n      message: 'Item Added Successfully',\n      position:'top',\n      duration: 2000\n    });\n    toast.present();\n  }\n  \n  goBack(){\n    this.router.navigate(['/tabs/tab1']);\n  }\n\n  async pickImage() {\n    var self = this;\n    try {\n     const options: CameraOptions = {\n       quality:50,\n       destinationType: this.camera.DestinationType.DATA_URL,\n       encodingType: this.camera.EncodingType.JPEG,\n       mediaType: this.camera.MediaType.PICTURE\n     }\n\n     const result = await this.camera.getPicture(options);\n\n     const image = `data:image/jpeg;base64,${result}`;\n     const pictures = firebase.storage().ref(this.randomId);\n     pictures.putString(image, 'data_url');\n\n     setTimeout(() => { this.showImage(); }, 2000);\n\n   } catch(e) {\n     console.error(e);\n   }\n   }\n\n   showImage() {\n    var storageRef = firebase.storage().ref();\n    storageRef.child(this.randomId).getDownloadURL().then(function(url) {\n      var test = url;\n      document.querySelector('img').src = test;\n    });\n   }\n\n}\n"]}