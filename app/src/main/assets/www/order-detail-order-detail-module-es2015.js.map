{"version":3,"sources":["./src/app/order-detail/order-detail.page.html","./src/app/order-detail/order-detail-routing.module.ts","./src/app/order-detail/order-detail.module.ts","./src/app/order-detail/order-detail.page.scss","./src/app/order-detail/order-detail.page.ts"],"names":[],"mappings":"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","file":"order-detail-order-detail-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-title>Order Details</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-button slot=\\\"end\\\" (click)=\\\"show()\\\"> Delete</ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-item>\\n  <ion-label>\\n    <h6>Order Date</h6>\\n    {{ current_order.date |  date: 'MM/dd/yyyy'}}\\n  </ion-label>\\n  </ion-item>\\n\\n  <ion-item >\\n    <ion-label>\\n\\n\\n     <h6>Products:</h6>\\n     <ion-item *ngFor=\\\"let item of cart\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-img [src]=\\\"item.image\\\"></ion-img>\\n      </ion-thumbnail>\\n\\n      <ion-label>\\n        {{ item.title }}\\n      </ion-label>\\n      <ion-label>\\n        {{ item.quantity }}\\n      </ion-label>\\n      <ion-label>\\n       $ {{ item.cost }}\\n      </ion-label>\\n    </ion-item>\\n\\n\\n\\n    </ion-label>\\n  </ion-item>\\n\\n\\n  \\n  <ion-item>\\n    <ion-label>\\n      <h6>  Total Items:</h6>   {{ current_order.quantity }}\\n    </ion-label>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>\\n      <h6>Order Total</h6> $ {{ current_order.total }}\\n    </ion-label>\\n  </ion-item>\\n  \\n  <ion-item>\\n    <ion-label>\\n      <h6>User ID</h6> {{ current_order.uid }}\\n     </ion-label>\\n    </ion-item>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderDetailPage } from './order-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderDetailPageRoutingModule } from './order-detail-routing.module';\n\nimport { OrderDetailPage } from './order-detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderDetailPageRoutingModule\n  ],\n  declarations: [OrderDetailPage]\n})\nexport class OrderDetailPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29yZGVyLWRldGFpbC9vcmRlci1kZXRhaWwucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport * as firebase from 'firebase';\nimport {Subject} from 'rxjs';\nimport { ItemService } from '../item.service';\nimport { AlertController } from '@ionic/angular';\nimport { ToastController } from '@ionic/angular';\n@Component({\n  selector: 'app-order-detail',\n  templateUrl: './order-detail.page.html',\n  styleUrls: ['./order-detail.page.scss'],\n})\nexport class OrderDetailPage implements OnInit {\n\n  private eventSubject = new Subject<any>();\n  current_order:any;\n  user = firebase.auth().currentUser;\n  db = firebase.firestore();\n  uid = this.user.uid;\n  cart = [];\n\n  publishEvent(data:any) {\n    this.eventSubject.next(data);\n    }\n    getObservable(): Subject<any> {\n    return this.eventSubject;\n    }\n  constructor(\n    public route: ActivatedRoute,\n    private alertController: AlertController,\n    public itemService:ItemService,\n    private toastController:ToastController\n  ) {\n   }\n\n  ngOnInit() {\n    this.route.params.subscribe(\n      param => {\n        this.current_order = param;\n        console.log(this.current_order);\n      }\n    )\n\n    var self = this;\n    this.db.collection(\"CartOrder\").where(\"oid\",\"==\",this.current_order.oid)\n    .onSnapshot(function(querySnapshot) {\n      querySnapshot.forEach(function(doc) {\n        var item = doc.data();\n        self.cart = item.cart;\n      });\n      self.publishEvent({foo:'bar'});\n    });\n  }\n  show() {\n    console.log(this.current_order.cart);\n  }\n  async deleteOrder(){\n    const alert = await this.alertController.create({\n      header: 'Delete Order?',\n      message: 'You are about to delete this order. Are you sure?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Delete Canceled');\n          }\n        }, {\n          text: 'Yes',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.itemService.deleteOrder(this.current_order.id);\n            this.deleteToast();\n\n          }\n        }\n      ]\n    });\n    \n    await alert.present();\n  }\n\n  async deleteToast() {\n    const toast = await this.toastController.create({\n      message: 'Order Deleted',\n      color:'tertiary',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}